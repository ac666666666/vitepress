# React 核心面试题

## 1. React Fiber 是什么？
React 16 引入的新协调引擎。主要为了解决 CPU 密集型任务导致的页面卡顿问题。

### 核心特性
- **任务分片**：将耗时的更新任务拆分为小片。
- **优先级调度**：高优先级的任务（如用户输入）可以打断低优先级的任务（如数据渲染）。
- **可中断**：渲染过程可以被暂停、终止或重新开始。

## 2. Hooks 为什么不能在循环或判断中使用？
Hooks 的底层实现是基于**链表**的。React 依赖 Hooks 的调用顺序来将状态（state）与组件对应起来。

如果放在循环或条件语句中，可能导致 Hook 的执行顺序发生改变，从而导致状态混乱。

## 3. useEffect vs useLayoutEffect

- **useEffect**：异步执行。在浏览器绘制（Paint）**之后**执行。不会阻塞页面渲染。
- **useLayoutEffect**：同步执行。在 DOM 变更之后，浏览器绘制**之前**执行。会阻塞页面渲染。

> 如果你需要修改 DOM 布局并希望用户看不到修改过程中的闪烁，使用 `useLayoutEffect`。
