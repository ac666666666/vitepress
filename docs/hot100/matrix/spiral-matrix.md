# èºæ—‹çŸ©é˜µ

[LeetCode å®˜æ–¹é¢˜ç›®é“¾æ¥](https://leetcode.cn/problems/spiral-matrix/)

## 1. é¢˜ç›®å‘ˆç°

**éš¾åº¦ç­‰çº§**ï¼šğŸŸ¡ ä¸­ç­‰  
**æ ¸å¿ƒè€ƒå¯Ÿç‚¹**ï¼šçŸ©é˜µã€æ¨¡æ‹Ÿ

ç»™ä½ ä¸€ä¸ª `m` è¡Œ `n` åˆ—çš„çŸ©é˜µ `matrix` ï¼Œè¯·æŒ‰ç…§ **é¡ºæ—¶é’ˆèºæ—‹é¡ºåº** ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

> **ç¤ºä¾‹ 1ï¼š**
>
> **è¾“å…¥**ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]  
> **è¾“å‡º**ï¼š[1,2,3,6,9,8,7,4,5]

> **ç¤ºä¾‹ 2ï¼š**
>
> **è¾“å…¥**ï¼šmatrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]  
> **è¾“å‡º**ï¼š[1,2,3,4,8,12,11,10,9,5,6,7]

---

## 2. è§£é¢˜æ€è·¯æ‹†è§£

### æ–¹æ³•ï¼šæ¨¡æ‹Ÿå±‚å±‚éå†

è¿™é“é¢˜æ²¡æœ‰å¤ªå¤æ‚çš„ç®—æ³•æ€æƒ³ï¼Œæ ¸å¿ƒåœ¨äº**æ¨¡æ‹Ÿ**èºæ—‹ç§»åŠ¨çš„è¿‡ç¨‹ï¼Œå¹¶ç²¾ç¡®æ§åˆ¶è¾¹ç•Œã€‚

1.  **å®šä¹‰è¾¹ç•Œ**ï¼š
    *   æˆ‘ä»¬éœ€è¦å››ä¸ªå˜é‡æ¥è¡¨ç¤ºå½“å‰çš„è¾¹ç•Œï¼š`top`, `bottom`, `left`, `right`ã€‚
    *   åˆå§‹æ—¶ï¼š`top = 0`, `bottom = m-1`, `left = 0`, `right = n-1`ã€‚

2.  **æ¨¡æ‹Ÿè¿‡ç¨‹**ï¼š
    *   åªè¦ `left <= right` ä¸” `top <= bottom`ï¼Œå°±ç»§ç»­å¾ªç¯ã€‚
    *   **å‘å³ç§»åŠ¨**ï¼šä» `left` åˆ° `right` éå† `top` è¡Œã€‚éå†å®Œï¼Œ`top++`ã€‚
    *   **å‘ä¸‹ç§»åŠ¨**ï¼šä» `top` åˆ° `bottom` éå† `right` åˆ—ã€‚éå†å®Œï¼Œ`right--`ã€‚
    *   **å‘å·¦ç§»åŠ¨**ï¼šéœ€è¦å…ˆæ£€æŸ¥ `top <= bottom`ï¼ˆé˜²æ­¢é‡å¤éå†ï¼‰ã€‚ä» `right` åˆ° `left` éå† `bottom` è¡Œã€‚éå†å®Œï¼Œ`bottom--`ã€‚
    *   **å‘ä¸Šç§»åŠ¨**ï¼šéœ€è¦å…ˆæ£€æŸ¥ `left <= right`ï¼ˆé˜²æ­¢é‡å¤éå†ï¼‰ã€‚ä» `bottom` åˆ° `top` éå† `left` åˆ—ã€‚éå†å®Œï¼Œ`left++`ã€‚

3.  **ç»ˆæ­¢æ¡ä»¶**ï¼š
    *   å½“è¾¹ç•Œäº¤é”™æ—¶ï¼ˆ`left > right` æˆ– `top > bottom`ï¼‰ï¼Œå¾ªç¯ç»“æŸã€‚

---

## 3. ä»£ç å®ç°

```javascript
/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
    if (!matrix.length || !matrix[0].length) {
        return [];
    }
    
    const result = [];
    let top = 0;
    let bottom = matrix.length - 1;
    let left = 0;
    let right = matrix[0].length - 1;
    
    while (top <= bottom && left <= right) {
        // 1. å‘å³ç§»åŠ¨
        for (let i = left; i <= right; i++) {
            result.push(matrix[top][i]);
        }
        top++; // ä¸Šè¾¹ç•Œä¸‹ç§»
        
        // 2. å‘ä¸‹ç§»åŠ¨
        for (let i = top; i <= bottom; i++) {
            result.push(matrix[i][right]);
        }
        right--; // å³è¾¹ç•Œå·¦ç§»
        
        // 3. å‘å·¦ç§»åŠ¨
        // æ³¨æ„ï¼šéœ€è¦æ£€æŸ¥ top <= bottomï¼Œå› ä¸º top åˆšåˆšå˜äº†
        if (top <= bottom) {
            for (let i = right; i >= left; i--) {
                result.push(matrix[bottom][i]);
            }
            bottom--; // ä¸‹è¾¹ç•Œä¸Šç§»
        }
        
        // 4. å‘ä¸Šç§»åŠ¨
        // æ³¨æ„ï¼šéœ€è¦æ£€æŸ¥ left <= rightï¼Œå› ä¸º right åˆšåˆšå˜äº†
        if (left <= right) {
            for (let i = bottom; i >= top; i--) {
                result.push(matrix[i][left]);
            }
            left++; // å·¦è¾¹ç•Œå³ç§»
        }
    }
    
    return result;
};
```

#### ä»£ç æ‰§è¡Œæ¼”ç¤º
è¾“å…¥ `matrix = [[1,2,3],[4,5,6],[7,8,9]]`

*   åˆå§‹ï¼š`top=0, bottom=2, left=0, right=2`
*   **ç¬¬ 1 è½®å¾ªç¯**ï¼š
    *   **å‘å³**ï¼šéå† `row 0`, `col 0->2`ã€‚`res=[1,2,3]`ã€‚`top` å˜ä¸º 1ã€‚
    *   **å‘ä¸‹**ï¼šéå† `col 2`, `row 1->2`ã€‚`res=[1,2,3,6,9]`ã€‚`right` å˜ä¸º 1ã€‚
    *   **æ£€æŸ¥**ï¼š`top(1) <= bottom(2)`ï¼Œé€šè¿‡ã€‚
    *   **å‘å·¦**ï¼šéå† `row 2`, `col 1->0`ã€‚`res=[1,2,3,6,9,8,7]`ã€‚`bottom` å˜ä¸º 1ã€‚
    *   **æ£€æŸ¥**ï¼š`left(0) <= right(1)`ï¼Œé€šè¿‡ã€‚
    *   **å‘ä¸Š**ï¼šéå† `col 0`, `row 1->1`ã€‚`res=[1,2,3,6,9,8,7,4]`ã€‚`left` å˜ä¸º 1ã€‚
*   **ç¬¬ 2 è½®å¾ªç¯**ï¼š
    *   å½“å‰ï¼š`top=1, bottom=1, left=1, right=1`ã€‚æ»¡è¶³æ¡ä»¶ã€‚
    *   **å‘å³**ï¼šéå† `row 1`, `col 1->1`ã€‚`res=[..., 5]`ã€‚`top` å˜ä¸º 2ã€‚
    *   **å‘ä¸‹**ï¼šéå† `col 1`, `row 2->1` (ä¸æ‰§è¡Œ)ã€‚`right` å˜ä¸º 0ã€‚
    *   **æ£€æŸ¥**ï¼š`top(2) <= bottom(1)`ï¼Œ**ä¸é€šè¿‡**ã€‚è·³è¿‡å‘å·¦ã€‚
    *   **æ£€æŸ¥**ï¼š`left(1) <= right(0)`ï¼Œ**ä¸é€šè¿‡**ã€‚è·³è¿‡å‘ä¸Šã€‚
*   å¾ªç¯ç»“æŸã€‚è¿”å› `[1,2,3,6,9,8,7,4,5]`ã€‚

---

## 4. å¤æ‚åº¦åˆ†æ

| ç»´åº¦ | æè¿° |
| :--- | :--- |
| **æ—¶é—´å¤æ‚åº¦** | $O(mn)$ã€‚æˆ‘ä»¬éœ€è¦éå†çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ ä¸€æ¬¡ã€‚ |
| **ç©ºé—´å¤æ‚åº¦** | $O(1)$ã€‚é™¤äº†è¾“å‡ºæ•°ç»„å¤–ï¼Œåªéœ€è¦å¸¸æ•°ç©ºé—´å­˜å‚¨è¾¹ç•Œå˜é‡ã€‚ |
